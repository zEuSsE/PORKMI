Please see http://people.csail.mit.edu/jjl/libpmk/samples/eth.html